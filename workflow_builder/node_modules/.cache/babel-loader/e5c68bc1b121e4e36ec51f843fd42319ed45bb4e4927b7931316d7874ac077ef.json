{"ast":null,"code":"/**\n * Agent Loader Utility\n *\n * Loads agents from the config file and merges with custom agents from localStorage.\n * Provides validation and helper functions for agent management.\n */\n\nimport agentConfig from '../config/agents.config.json';\nconst CUSTOM_AGENTS_KEY = 'customAgents';\nconst FAVORITES_KEY = 'favoriteAgents';\n\n/**\n * Load all built-in agents from the config file\n * @returns {Array} Array of built-in agent objects\n */\nexport const loadBuiltinAgents = () => {\n  return agentConfig.agents;\n};\n\n/**\n * Load custom agents from localStorage\n * @returns {Array} Array of custom agent objects\n */\nexport const loadCustomAgents = () => {\n  try {\n    const customAgentsJSON = localStorage.getItem(CUSTOM_AGENTS_KEY);\n    if (!customAgentsJSON) return [];\n    const customAgents = JSON.parse(customAgentsJSON);\n\n    // Validate custom agents structure\n    return customAgents.filter(agent => validateAgentSchema(agent));\n  } catch (error) {\n    console.error('Error loading custom agents:', error);\n    return [];\n  }\n};\n\n/**\n * Load all agents (built-in + custom)\n * @returns {Array} Combined array of all agent objects\n */\nexport const loadAllAgents = () => {\n  const builtinAgents = loadBuiltinAgents();\n  const customAgents = loadCustomAgents();\n  return [...builtinAgents, ...customAgents];\n};\n\n/**\n * Get agent categories from config\n * @returns {Object} Categories object with metadata\n */\nexport const getAgentCategories = () => {\n  return agentConfig.categories;\n};\n\n/**\n * Get agents organized by category\n * @returns {Object} Object with category IDs as keys and agent arrays as values\n */\nexport const getAgentsByCategory = () => {\n  const allAgents = loadAllAgents();\n  const categories = getAgentCategories();\n  const agentsByCategory = {};\n\n  // Initialize categories\n  Object.keys(categories).forEach(categoryId => {\n    agentsByCategory[categoryId] = [];\n  });\n\n  // Add an \"Uncategorized\" category for agents without a category\n  agentsByCategory['Uncategorized'] = [];\n\n  // Organize agents by category\n  allAgents.forEach(agent => {\n    const category = agent.category || 'Uncategorized';\n\n    // Find the category ID that contains this agent\n    const categoryId = Object.keys(categories).find(catId => categories[catId].agents && categories[catId].agents.includes(agent.id));\n    if (categoryId && agentsByCategory[categoryId]) {\n      agentsByCategory[categoryId].push(agent);\n    } else if (agent.category && agentsByCategory[agent.category]) {\n      agentsByCategory[agent.category].push(agent);\n    } else {\n      agentsByCategory['Uncategorized'].push(agent);\n    }\n  });\n  return agentsByCategory;\n};\n\n/**\n * Save a custom agent to localStorage\n * @param {Object} agent - The custom agent object to save\n * @returns {boolean} True if saved successfully\n */\nexport const saveCustomAgent = agent => {\n  try {\n    if (!validateAgentSchema(agent)) {\n      throw new Error('Invalid agent schema');\n    }\n    const customAgents = loadCustomAgents();\n\n    // Check if agent with same ID already exists\n    const existingIndex = customAgents.findIndex(a => a.id === agent.id);\n    if (existingIndex >= 0) {\n      // Update existing agent\n      customAgents[existingIndex] = {\n        ...agent,\n        builtin: false,\n        custom: true\n      };\n    } else {\n      // Add new agent\n      customAgents.push({\n        ...agent,\n        builtin: false,\n        custom: true\n      });\n    }\n    localStorage.setItem(CUSTOM_AGENTS_KEY, JSON.stringify(customAgents));\n    return true;\n  } catch (error) {\n    console.error('Error saving custom agent:', error);\n    return false;\n  }\n};\n\n/**\n * Delete a custom agent from localStorage\n * @param {string} agentId - The ID of the agent to delete\n * @returns {boolean} True if deleted successfully\n */\nexport const deleteCustomAgent = agentId => {\n  try {\n    const customAgents = loadCustomAgents();\n    const filteredAgents = customAgents.filter(agent => agent.id !== agentId);\n    localStorage.setItem(CUSTOM_AGENTS_KEY, JSON.stringify(filteredAgents));\n    return true;\n  } catch (error) {\n    console.error('Error deleting custom agent:', error);\n    return false;\n  }\n};\n\n/**\n * Find an agent by ID\n * @param {string} agentId - The agent ID to find\n * @returns {Object|null} The agent object or null if not found\n */\nexport const findAgentById = agentId => {\n  const allAgents = loadAllAgents();\n  return allAgents.find(agent => agent.id === agentId) || null;\n};\n\n/**\n * Validate an agent object schema\n * @param {Object} agent - The agent object to validate\n * @returns {boolean} True if valid\n */\nexport const validateAgentSchema = agent => {\n  if (!agent || typeof agent !== 'object') return false;\n  const requiredFields = ['id', 'label', 'icon', 'color'];\n  for (const field of requiredFields) {\n    if (!agent[field] || typeof agent[field] !== 'string') {\n      return false;\n    }\n  }\n\n  // Validate color is a valid hex color\n  const colorRegex = /^#[0-9A-F]{6}$/i;\n  if (!colorRegex.test(agent.color)) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * Check if an agent is a custom agent\n * @param {Object} agent - The agent object\n * @returns {boolean} True if custom agent\n */\nexport const isCustomAgent = agent => {\n  return agent.custom === true || agent.builtin === false;\n};\n\n/**\n * Load favorite agent IDs from localStorage\n * @returns {Array} Array of favorited agent IDs\n */\nexport const loadFavorites = () => {\n  try {\n    const favoritesJSON = localStorage.getItem(FAVORITES_KEY);\n    if (!favoritesJSON) return [];\n    return JSON.parse(favoritesJSON);\n  } catch (error) {\n    console.error('Error loading favorites:', error);\n    return [];\n  }\n};\n\n/**\n * Save favorite agent IDs to localStorage\n * @param {Array} favorites - Array of agent IDs\n * @returns {boolean} True if saved successfully\n */\nexport const saveFavorites = favorites => {\n  try {\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n    return true;\n  } catch (error) {\n    console.error('Error saving favorites:', error);\n    return false;\n  }\n};\n\n/**\n * Toggle favorite status for an agent\n * @param {string} agentId - The agent ID to toggle\n * @returns {boolean} True if now favorited, false if unfavorited\n */\nexport const toggleFavorite = agentId => {\n  const favorites = loadFavorites();\n  const index = favorites.indexOf(agentId);\n  if (index >= 0) {\n    // Remove from favorites\n    favorites.splice(index, 1);\n    saveFavorites(favorites);\n    return false;\n  } else {\n    // Add to favorites\n    favorites.push(agentId);\n    saveFavorites(favorites);\n    return true;\n  }\n};\n\n/**\n * Check if an agent is favorited\n * @param {string} agentId - The agent ID to check\n * @returns {boolean} True if favorited\n */\nexport const isFavorite = agentId => {\n  const favorites = loadFavorites();\n  return favorites.includes(agentId);\n};\n\n/**\n * Search agents by query string\n * @param {string} query - Search query\n * @param {Array} agents - Optional array of agents to search (defaults to all agents)\n * @returns {Array} Filtered array of matching agents\n */\nexport const searchAgents = (query, agents = null) => {\n  if (!query || query.trim() === '') {\n    return agents || loadAllAgents();\n  }\n  const searchQuery = query.toLowerCase().trim();\n\n  // Note: No minimum length requirement - searches work with any length including 1-2 characters\n  // This allows searching for short terms like \"PM\", \"QA\", \"iOS\", etc.\n\n  const agentsToSearch = agents || loadAllAgents();\n  return agentsToSearch.filter(agent => {\n    const labelMatch = agent.label && agent.label.toLowerCase().includes(searchQuery);\n    const idMatch = agent.id && agent.id.toLowerCase().includes(searchQuery);\n    const categoryMatch = agent.category && agent.category.toLowerCase().includes(searchQuery);\n    const promptMatch = agent.defaultPrompt && agent.defaultPrompt.toLowerCase().includes(searchQuery);\n    return labelMatch || idMatch || categoryMatch || promptMatch;\n  });\n};\n\n/**\n * Get agents that are favorited\n * @returns {Array} Array of favorited agent objects\n */\nexport const getFavoriteAgents = () => {\n  const favorites = loadFavorites();\n  const allAgents = loadAllAgents();\n  return allAgents.filter(agent => favorites.includes(agent.id));\n};\n\n/**\n * Export custom agents to JSON\n * @returns {string} JSON string of custom agents\n */\nexport const exportCustomAgents = () => {\n  const customAgents = loadCustomAgents();\n  return JSON.stringify(customAgents, null, 2);\n};\n\n/**\n * Import custom agents from JSON\n * @param {string} jsonString - JSON string of custom agents\n * @returns {boolean} True if imported successfully\n */\nexport const importCustomAgents = jsonString => {\n  try {\n    const importedAgents = JSON.parse(jsonString);\n    if (!Array.isArray(importedAgents)) {\n      throw new Error('Invalid format: expected an array');\n    }\n\n    // Validate all agents\n    const validAgents = importedAgents.filter(agent => validateAgentSchema(agent));\n    if (validAgents.length === 0) {\n      throw new Error('No valid agents found in import');\n    }\n\n    // Merge with existing custom agents (avoid duplicates)\n    const existingAgents = loadCustomAgents();\n    const mergedAgents = [...existingAgents];\n    validAgents.forEach(agent => {\n      const existingIndex = mergedAgents.findIndex(a => a.id === agent.id);\n      if (existingIndex >= 0) {\n        mergedAgents[existingIndex] = {\n          ...agent,\n          builtin: false,\n          custom: true\n        };\n      } else {\n        mergedAgents.push({\n          ...agent,\n          builtin: false,\n          custom: true\n        });\n      }\n    });\n    localStorage.setItem(CUSTOM_AGENTS_KEY, JSON.stringify(mergedAgents));\n    return true;\n  } catch (error) {\n    console.error('Error importing custom agents:', error);\n    return false;\n  }\n};\nexport default {\n  loadBuiltinAgents,\n  loadCustomAgents,\n  loadAllAgents,\n  getAgentCategories,\n  getAgentsByCategory,\n  saveCustomAgent,\n  deleteCustomAgent,\n  findAgentById,\n  validateAgentSchema,\n  isCustomAgent,\n  loadFavorites,\n  saveFavorites,\n  toggleFavorite,\n  isFavorite,\n  searchAgents,\n  getFavoriteAgents,\n  exportCustomAgents,\n  importCustomAgents\n};","map":{"version":3,"names":["agentConfig","CUSTOM_AGENTS_KEY","FAVORITES_KEY","loadBuiltinAgents","agents","loadCustomAgents","customAgentsJSON","localStorage","getItem","customAgents","JSON","parse","filter","agent","validateAgentSchema","error","console","loadAllAgents","builtinAgents","getAgentCategories","categories","getAgentsByCategory","allAgents","agentsByCategory","Object","keys","forEach","categoryId","category","find","catId","includes","id","push","saveCustomAgent","Error","existingIndex","findIndex","a","builtin","custom","setItem","stringify","deleteCustomAgent","agentId","filteredAgents","findAgentById","requiredFields","field","colorRegex","test","color","isCustomAgent","loadFavorites","favoritesJSON","saveFavorites","favorites","toggleFavorite","index","indexOf","splice","isFavorite","searchAgents","query","trim","searchQuery","toLowerCase","agentsToSearch","labelMatch","label","idMatch","categoryMatch","promptMatch","defaultPrompt","getFavoriteAgents","exportCustomAgents","importCustomAgents","jsonString","importedAgents","Array","isArray","validAgents","length","existingAgents","mergedAgents"],"sources":["C:/Users/jacob/MultiAgentTeam/workflow_builder/src/utils/agentLoader.js"],"sourcesContent":["/**\n * Agent Loader Utility\n *\n * Loads agents from the config file and merges with custom agents from localStorage.\n * Provides validation and helper functions for agent management.\n */\n\nimport agentConfig from '../config/agents.config.json';\n\nconst CUSTOM_AGENTS_KEY = 'customAgents';\nconst FAVORITES_KEY = 'favoriteAgents';\n\n/**\n * Load all built-in agents from the config file\n * @returns {Array} Array of built-in agent objects\n */\nexport const loadBuiltinAgents = () => {\n  return agentConfig.agents;\n};\n\n/**\n * Load custom agents from localStorage\n * @returns {Array} Array of custom agent objects\n */\nexport const loadCustomAgents = () => {\n  try {\n    const customAgentsJSON = localStorage.getItem(CUSTOM_AGENTS_KEY);\n    if (!customAgentsJSON) return [];\n\n    const customAgents = JSON.parse(customAgentsJSON);\n\n    // Validate custom agents structure\n    return customAgents.filter(agent => validateAgentSchema(agent));\n  } catch (error) {\n    console.error('Error loading custom agents:', error);\n    return [];\n  }\n};\n\n/**\n * Load all agents (built-in + custom)\n * @returns {Array} Combined array of all agent objects\n */\nexport const loadAllAgents = () => {\n  const builtinAgents = loadBuiltinAgents();\n  const customAgents = loadCustomAgents();\n\n  return [...builtinAgents, ...customAgents];\n};\n\n/**\n * Get agent categories from config\n * @returns {Object} Categories object with metadata\n */\nexport const getAgentCategories = () => {\n  return agentConfig.categories;\n};\n\n/**\n * Get agents organized by category\n * @returns {Object} Object with category IDs as keys and agent arrays as values\n */\nexport const getAgentsByCategory = () => {\n  const allAgents = loadAllAgents();\n  const categories = getAgentCategories();\n  const agentsByCategory = {};\n\n  // Initialize categories\n  Object.keys(categories).forEach(categoryId => {\n    agentsByCategory[categoryId] = [];\n  });\n\n  // Add an \"Uncategorized\" category for agents without a category\n  agentsByCategory['Uncategorized'] = [];\n\n  // Organize agents by category\n  allAgents.forEach(agent => {\n    const category = agent.category || 'Uncategorized';\n\n    // Find the category ID that contains this agent\n    const categoryId = Object.keys(categories).find(catId =>\n      categories[catId].agents && categories[catId].agents.includes(agent.id)\n    );\n\n    if (categoryId && agentsByCategory[categoryId]) {\n      agentsByCategory[categoryId].push(agent);\n    } else if (agent.category && agentsByCategory[agent.category]) {\n      agentsByCategory[agent.category].push(agent);\n    } else {\n      agentsByCategory['Uncategorized'].push(agent);\n    }\n  });\n\n  return agentsByCategory;\n};\n\n/**\n * Save a custom agent to localStorage\n * @param {Object} agent - The custom agent object to save\n * @returns {boolean} True if saved successfully\n */\nexport const saveCustomAgent = (agent) => {\n  try {\n    if (!validateAgentSchema(agent)) {\n      throw new Error('Invalid agent schema');\n    }\n\n    const customAgents = loadCustomAgents();\n\n    // Check if agent with same ID already exists\n    const existingIndex = customAgents.findIndex(a => a.id === agent.id);\n\n    if (existingIndex >= 0) {\n      // Update existing agent\n      customAgents[existingIndex] = { ...agent, builtin: false, custom: true };\n    } else {\n      // Add new agent\n      customAgents.push({ ...agent, builtin: false, custom: true });\n    }\n\n    localStorage.setItem(CUSTOM_AGENTS_KEY, JSON.stringify(customAgents));\n    return true;\n  } catch (error) {\n    console.error('Error saving custom agent:', error);\n    return false;\n  }\n};\n\n/**\n * Delete a custom agent from localStorage\n * @param {string} agentId - The ID of the agent to delete\n * @returns {boolean} True if deleted successfully\n */\nexport const deleteCustomAgent = (agentId) => {\n  try {\n    const customAgents = loadCustomAgents();\n    const filteredAgents = customAgents.filter(agent => agent.id !== agentId);\n\n    localStorage.setItem(CUSTOM_AGENTS_KEY, JSON.stringify(filteredAgents));\n    return true;\n  } catch (error) {\n    console.error('Error deleting custom agent:', error);\n    return false;\n  }\n};\n\n/**\n * Find an agent by ID\n * @param {string} agentId - The agent ID to find\n * @returns {Object|null} The agent object or null if not found\n */\nexport const findAgentById = (agentId) => {\n  const allAgents = loadAllAgents();\n  return allAgents.find(agent => agent.id === agentId) || null;\n};\n\n/**\n * Validate an agent object schema\n * @param {Object} agent - The agent object to validate\n * @returns {boolean} True if valid\n */\nexport const validateAgentSchema = (agent) => {\n  if (!agent || typeof agent !== 'object') return false;\n\n  const requiredFields = ['id', 'label', 'icon', 'color'];\n\n  for (const field of requiredFields) {\n    if (!agent[field] || typeof agent[field] !== 'string') {\n      return false;\n    }\n  }\n\n  // Validate color is a valid hex color\n  const colorRegex = /^#[0-9A-F]{6}$/i;\n  if (!colorRegex.test(agent.color)) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Check if an agent is a custom agent\n * @param {Object} agent - The agent object\n * @returns {boolean} True if custom agent\n */\nexport const isCustomAgent = (agent) => {\n  return agent.custom === true || agent.builtin === false;\n};\n\n/**\n * Load favorite agent IDs from localStorage\n * @returns {Array} Array of favorited agent IDs\n */\nexport const loadFavorites = () => {\n  try {\n    const favoritesJSON = localStorage.getItem(FAVORITES_KEY);\n    if (!favoritesJSON) return [];\n\n    return JSON.parse(favoritesJSON);\n  } catch (error) {\n    console.error('Error loading favorites:', error);\n    return [];\n  }\n};\n\n/**\n * Save favorite agent IDs to localStorage\n * @param {Array} favorites - Array of agent IDs\n * @returns {boolean} True if saved successfully\n */\nexport const saveFavorites = (favorites) => {\n  try {\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n    return true;\n  } catch (error) {\n    console.error('Error saving favorites:', error);\n    return false;\n  }\n};\n\n/**\n * Toggle favorite status for an agent\n * @param {string} agentId - The agent ID to toggle\n * @returns {boolean} True if now favorited, false if unfavorited\n */\nexport const toggleFavorite = (agentId) => {\n  const favorites = loadFavorites();\n  const index = favorites.indexOf(agentId);\n\n  if (index >= 0) {\n    // Remove from favorites\n    favorites.splice(index, 1);\n    saveFavorites(favorites);\n    return false;\n  } else {\n    // Add to favorites\n    favorites.push(agentId);\n    saveFavorites(favorites);\n    return true;\n  }\n};\n\n/**\n * Check if an agent is favorited\n * @param {string} agentId - The agent ID to check\n * @returns {boolean} True if favorited\n */\nexport const isFavorite = (agentId) => {\n  const favorites = loadFavorites();\n  return favorites.includes(agentId);\n};\n\n/**\n * Search agents by query string\n * @param {string} query - Search query\n * @param {Array} agents - Optional array of agents to search (defaults to all agents)\n * @returns {Array} Filtered array of matching agents\n */\nexport const searchAgents = (query, agents = null) => {\n  if (!query || query.trim() === '') {\n    return agents || loadAllAgents();\n  }\n\n  const searchQuery = query.toLowerCase().trim();\n\n  // Note: No minimum length requirement - searches work with any length including 1-2 characters\n  // This allows searching for short terms like \"PM\", \"QA\", \"iOS\", etc.\n\n  const agentsToSearch = agents || loadAllAgents();\n\n  return agentsToSearch.filter(agent => {\n    const labelMatch = agent.label && agent.label.toLowerCase().includes(searchQuery);\n    const idMatch = agent.id && agent.id.toLowerCase().includes(searchQuery);\n    const categoryMatch = agent.category && agent.category.toLowerCase().includes(searchQuery);\n    const promptMatch = agent.defaultPrompt && agent.defaultPrompt.toLowerCase().includes(searchQuery);\n\n    return labelMatch || idMatch || categoryMatch || promptMatch;\n  });\n};\n\n/**\n * Get agents that are favorited\n * @returns {Array} Array of favorited agent objects\n */\nexport const getFavoriteAgents = () => {\n  const favorites = loadFavorites();\n  const allAgents = loadAllAgents();\n\n  return allAgents.filter(agent => favorites.includes(agent.id));\n};\n\n/**\n * Export custom agents to JSON\n * @returns {string} JSON string of custom agents\n */\nexport const exportCustomAgents = () => {\n  const customAgents = loadCustomAgents();\n  return JSON.stringify(customAgents, null, 2);\n};\n\n/**\n * Import custom agents from JSON\n * @param {string} jsonString - JSON string of custom agents\n * @returns {boolean} True if imported successfully\n */\nexport const importCustomAgents = (jsonString) => {\n  try {\n    const importedAgents = JSON.parse(jsonString);\n\n    if (!Array.isArray(importedAgents)) {\n      throw new Error('Invalid format: expected an array');\n    }\n\n    // Validate all agents\n    const validAgents = importedAgents.filter(agent => validateAgentSchema(agent));\n\n    if (validAgents.length === 0) {\n      throw new Error('No valid agents found in import');\n    }\n\n    // Merge with existing custom agents (avoid duplicates)\n    const existingAgents = loadCustomAgents();\n    const mergedAgents = [...existingAgents];\n\n    validAgents.forEach(agent => {\n      const existingIndex = mergedAgents.findIndex(a => a.id === agent.id);\n      if (existingIndex >= 0) {\n        mergedAgents[existingIndex] = { ...agent, builtin: false, custom: true };\n      } else {\n        mergedAgents.push({ ...agent, builtin: false, custom: true });\n      }\n    });\n\n    localStorage.setItem(CUSTOM_AGENTS_KEY, JSON.stringify(mergedAgents));\n    return true;\n  } catch (error) {\n    console.error('Error importing custom agents:', error);\n    return false;\n  }\n};\n\nexport default {\n  loadBuiltinAgents,\n  loadCustomAgents,\n  loadAllAgents,\n  getAgentCategories,\n  getAgentsByCategory,\n  saveCustomAgent,\n  deleteCustomAgent,\n  findAgentById,\n  validateAgentSchema,\n  isCustomAgent,\n  loadFavorites,\n  saveFavorites,\n  toggleFavorite,\n  isFavorite,\n  searchAgents,\n  getFavoriteAgents,\n  exportCustomAgents,\n  importCustomAgents\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}